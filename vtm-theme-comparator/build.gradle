apply plugin: 'java'

repositories {
    maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
}

dependencies {
    compile project(':vtm-desktop')
    compile 'ch.qos.logback:logback-classic:1.2.3'
    compile 'com.fifesoft:rsyntaxtextarea:2.6.1'
    compile 'com.jtattoo:JTattoo:1.6.11'

    compile 'org.mapsforge:mapsforge-core:master-SNAPSHOT'
    compile 'org.mapsforge:mapsforge-map:master-SNAPSHOT'
    compile("org.mapsforge:mapsforge-map-awt:master-SNAPSHOT")
    compile 'org.mapsforge:mapsforge-map-reader:master-SNAPSHOT'
    compile 'org.mapsforge:mapsforge-themes:master-SNAPSHOT'
    compile 'net.sf.kxml:kxml2:2.3.0'
}

sourceSets {
    main {
        java.srcDirs = ['src']
        resources.srcDirs = ['resources']
    }
}

task fatJar(type: Jar, dependsOn: classes) {
    classifier = 'jar-with-dependencies'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    exclude 'META-INF/*.DSA', 'META-INF/*.RSA', 'META-INF/*.SF'
    manifest {
        attributes('Main-Class': 'org.oscim.theme.comparator.Main')
    }
    with jar
}
